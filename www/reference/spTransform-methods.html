<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Methods for Function spTransform for map projection and datum transformation in package "rgdal" — spTransform-methods • rgdal</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Methods for Function spTransform for map projection and datum transformation in package "rgdal" — spTransform-methods" />
<meta property="og:description" content="The spTransform methods provide transformation between datum(s) and conversion between projections (also known as projection and/or re-projection), from one unambiguously specified coordinate reference system to another, using PROJ.4 projection arguments. For simple projection, when no +datum tags are used, datum projection does not occur. When datum transformation is required, the +datum tag should be present with a valid value both in the CRS of the object to be transformed, and in the target CRS. In general +datum= is to be prefered to +ellps=, because the datum always fixes the ellipsoid, but the ellipsoid never fixes the datum.
In addition, the +towgs84 tag should be used where needed to make sure that datum transformation does take place. Parameters for +towgs84 will be taken from the bundled EPSG database if they are known unequivocally, but may be entered manually from known authorities. Not providing the appropriate +datum and +towgs84 tags may lead to coordinates being out by hundreds of metres. Unfortunately, there is no easy way to provide this information: the user has to know the correct metadata for the data being used, even if this can be hard to discover." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgdal</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5-10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/CRS_projections_transformations.html">Why have CRS, projections and transformations changed?</a>
    </li>
    <li>
      <a href="../articles/PROJ6_GDAL3.html">Migration to PROJ6/GDAL3</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Methods for Function spTransform for map projection and datum transformation in package "rgdal"</h1>
    
    <div class="hidden name"><code>spTransform-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>spTransform</code> methods provide transformation between datum(s) and conversion between projections (also known as projection and/or re-projection), from one unambiguously specified coordinate reference system to another, using PROJ.4 projection arguments. For simple projection, when no +datum tags are used, datum projection does not occur. When datum transformation is required, the +datum tag should be present with a valid value both in the CRS of the object to be transformed, and in the target CRS. In general +datum= is to be prefered to +ellps=, because the datum always fixes the ellipsoid, but the ellipsoid never fixes the datum.</p>
<p>In addition, the +towgs84 tag should be used where needed to make sure that datum transformation does take place. Parameters for +towgs84 will be taken from the bundled EPSG database if they are known unequivocally, but may be entered manually from known authorities. Not providing the appropriate +datum and +towgs84 tags may lead to coordinates being out by hundreds of metres. Unfortunately, there is no easy way to provide this information: the user has to know the correct metadata for the data being used, even if this can be hard to discover.</p>
    </div>

    <pre class="usage"><span class='fu'>get_transform_wkt_comment</span>()
<span class='fu'>set_transform_wkt_comment</span>(<span class='no'>value</span>)
<span class='fu'>get_enforce_xy</span>()
<span class='fu'>set_enforce_xy</span>(<span class='no'>value</span>)
<span class='fu'>get_last_coordOp</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>value</th>
      <td><p>A non-NA logical value</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <dl'>

<dt>"ANY"</dt><dd><p>default void method</p></dd>

<dt>"SpatialPoints", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialPoints" object using the projection arguments in "CRSobj", of class CRS</p></dd>

<dt>"SpatialPointsDataFrame", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialPointsDataFrame" object using the projection arguments in "CRSobj", of class CRS</p></dd>

<dt>"SpatialLines", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialLines" object using the projection arguments in "CRSobj", of class CRS</p></dd>

<dt>"SpatialLinesDataFrame", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialLinesDataFrame" object using the projection arguments in "CRSobj", of class CRS</p></dd>

<dt>"SpatialPolygons", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialPolygons" object using the projection arguments in "CRSobj", of class CRS</p></dd>

<dt>"SpatialPolygonsDataFrame", CRSobj = CRS</dt><dd><p>returns transformed coordinates of an "SpatialPolygonsDataFrame" object using the projection arguments in "CRSobj", of class CRS</p></dd>
<dt>"SpatialPixelsDataFrame", CRSobj = CRS</dt><dd><p>Because regular grids will usually not be regular after projection/datum transformation, the input object is coerced to a SpatialPointsDataFrame, and the transformation carried out on that object. A warning: &#8220;Grid warping not available, coercing to points&#8221; is given.</p></dd>
<dt>"SpatialGridDataFrame", CRSobj = CRS</dt><dd><p>Because regular grids will usually not be regular after projection/datum transformation, the input object is coerced to a SpatialPointsDataFrame, and the transformation carried out on that object. A warning: &#8220;Grid warping not available, coercing to points&#8221; is given.</p></dd>


</dl>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The projection arguments must be entered exactly as in the PROJ.4 documentation, in particular there cannot be any white space in +&lt;arg&gt;=&lt;value&gt; strings, and successive such strings can only be separated by blanks.
Note that warnings about different projections may be issued when the PROJ.4 library extends projection arguments; examine the warning to see if the differences are real.</p>
<p>Also note that re-projection and/or datum transformation will usually not work for regular grids. The term used for similar operations for regular grids is warping, which involved resampling to a regular grid in the target coordinate reference system.</p>
<p>The methods may take an optional argument &#8220;use_ob_tran&#8221;, default FALSE, if TRUE and &#8220;+proj=ob_tran&#8221;, use General Oblique Transformation with internalised from/to projection reversal (the user oblique transforms from longlat to oblique forward rather than inverse as suggested in PROJ.4 mailing list postings); these changes are intended to meet a need pointed out by Martin Ivanov (2012-08-15). A subsequent point raised by Martin Ivanov (2017-04-28) was that use of a projected CRS with &#8220;+proj=ob_tran&#8221; led to errors, so mixing projected CRS and &#8220;+proj=ob_tran&#8221; is blocked. Transform first &#8220;+proj=ob_tran&#8221; to or from &#8220;+proj=longlat&#8221;, and then on from geographical coordinates to those desired or the reverse - see example.</p>
<p>If a SpatialPoints object has three dimensions, the third will also be transformed, with the metric of the third dimension assumed to be meters if the vertical units metric is not given in the projection description with +vunits= or +vto_meter= (which is 1.0 by default) <a href='https://proj.org/faq.html'>https://proj.org/faq.html</a>.</p>
<p>Note that WGS84 is both an ellipse and a datum, and that since 1984 there have been changes in the relative positions of continents, leading to a number of modifications. This is discussed for example in <a href='http://www.uvm.edu/giv/resources/WGS84_NAD83.pdf'>http://www.uvm.edu/giv/resources/WGS84_NAD83.pdf</a>; there are then multiple transformations between NAD83 and WGS84 depending on the WGS84 definition used. One would expect that &#8220;+towgs84=&#8221; is a no-op for WGS84, but this only applies sometimes, and as there are now at least 30 years between now and 1984, things have shifted. It may be useful to note that &#8220;+nadgrids=@null&#8221; can help, see these threads: <a href='https://stat.ethz.ch/pipermail/r-sig-geo/2014-August/021611.html'>https://stat.ethz.ch/pipermail/r-sig-geo/2014-August/021611.html</a>, <a href='http://lists.maptools.org/pipermail/proj/2014-August/006894.html'>http://lists.maptools.org/pipermail/proj/2014-August/006894.html</a>, with thanks to Hermann Peifer for assistance.</p>
<p>Note that from PROJ.4 4.9.3, the definition of UTM is changed from TMERC to ETMERC; see example.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='showWKT.html'>set_thin_PROJ6_warnings</a></span>(<span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>state</span>)
<span class='no'>states</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='no'>state.x77</span>, <span class='no'>state.center</span>)
<span class='no'>states</span> <span class='kw'>&lt;-</span> <span class='no'>states</span>[<span class='no'>states</span>$<span class='no'>x</span> <span class='kw'>&gt;</span> -<span class='fl'>121</span>,]
<span class='fu'>coordinates</span>(<span class='no'>states</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"x"</span>, <span class='st'>"y"</span>)
<span class='fu'>proj4string</span>(<span class='no'>states</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=clrk66"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>states</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min      max
#&gt; x -120.0680 -68.9801
#&gt; y   27.8744  47.4231
#&gt; Is projected: FALSE 
#&gt; proj4string : [+proj=longlat +ellps=clrk66 +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  </div><div class='input'><span class='no'>state.ll83</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>states</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=GRS80"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>state.ll83</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min      max
#&gt; x -120.0680 -68.9801
#&gt; y   27.8744  47.4231
#&gt; Is projected: FALSE 
#&gt; proj4string : [+proj=longlat +ellps=GRS80 +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  </div><div class='input'><span class='no'>state.merc</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>states</span>, <span class='kw'>CRS</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=merc +ellps=GRS80"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>state.merc</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min      max
#&gt; x -13365909 -7678830
#&gt; y   3213175  5979931
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  </div><div class='input'><span class='no'>state.merc</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>states</span>,
 <span class='kw'>CRS</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=merc +ellps=GRS80 +units=us-mi"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>state.merc</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min       max
#&gt; x -8305.174 -4771.394
#&gt; y  1996.571  3715.749
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=GRS80 +units=us-mi
#&gt; +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  </div><div class='input'><span class='kw'>if</span> (<span class='fu'><a href='projInfo.html'>PROJis6ormore</a></span>() <span class='kw'>||</span> (!<span class='fu'><a href='projInfo.html'>PROJis6ormore</a></span>() <span class='kw'>&amp;&amp;</span> <span class='fu'><a href='projInfo.html'>projNAD</a></span>())) {
<span class='no'>states</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='no'>state.x77</span>, <span class='no'>state.center</span>)
<span class='no'>states</span> <span class='kw'>&lt;-</span> <span class='no'>states</span>[<span class='no'>states</span>$<span class='no'>x</span> <span class='kw'>&gt;</span> -<span class='fl'>121</span>,]
<span class='fu'>coordinates</span>(<span class='no'>states</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"x"</span>, <span class='st'>"y"</span>)
<span class='fu'>proj4string</span>(<span class='no'>states</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4267"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>states</span>))
<span class='no'>state.ll83</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>states</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4269"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>state.ll83</span>))
<span class='no'>state.kansasSlcc</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>states</span>, <span class='kw'>CRS</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:26978"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>state.kansasSlcc</span>))
<span class='no'>SFpoint_NAD83</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialPoints</span>(<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>103.869667</span>, <span class='fl'>44.461676</span>), <span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>1</span>),
 <span class='kw'>proj4string</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4269"</span>))
<span class='no'>SFpoint_NAD27</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>SFpoint_NAD83</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4267"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>SFpoint_NAD83</span>), <span class='fu'>coordinates</span>(<span class='no'>SFpoint_NAD27</span>)))
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'>coordinates</span>(<span class='no'>SFpoint_NAD27</span>), <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>12</span>)
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='fu'>coordinates</span>(<span class='no'>SFpoint_NAD83</span>), <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>12</span>)
}</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min      max
#&gt; x -120.0680 -68.9801
#&gt; y   27.8744  47.4231
#&gt; Is projected: FALSE 
#&gt; proj4string : [+proj=longlat +datum=NAD27 +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  
#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min       max
#&gt; x -120.0691 -68.97959
#&gt; y   27.8747  47.42296
#&gt; Is projected: FALSE 
#&gt; proj4string : [+proj=longlat +datum=NAD83 +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  
#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;          min     max
#&gt; x -1489059.3 2685164
#&gt; y  -429308.4 1784235
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=lcc +lat_0=36.6666666666667 +lon_0=-98.5 +lat_1=38.5666666666667
#&gt; +lat_2=37.2666666666667 +x_0=400000 +y_0=400000 +datum=NAD83 +units=m
#&gt; +no_defs]
#&gt; Number of points: 48
#&gt; Data attributes:
#&gt;    Population        Income       Illiteracy       Life.Exp    
#&gt;  Min.   :  376   Min.   :3098   Min.   :0.500   Min.   :67.96  
#&gt;  1st Qu.: 1188   1st Qu.:3964   1st Qu.:0.600   1st Qu.:70.13  
#&gt;  Median : 2980   Median :4488   Median :0.900   Median :70.67  
#&gt;  Mean   : 4398   Mean   :4386   Mean   :1.148   Mean   :70.85  
#&gt;  3rd Qu.: 5064   3rd Qu.:4768   3rd Qu.:1.450   3rd Qu.:71.88  
#&gt;  Max.   :21198   Max.   :5348   Max.   :2.800   Max.   :72.96  
#&gt;      Murder          HS.Grad          Frost             Area       
#&gt;  Min.   : 1.400   Min.   :37.80   Min.   : 11.00   Min.   :  1049  
#&gt;  1st Qu.: 4.275   1st Qu.:47.70   1st Qu.: 68.75   1st Qu.: 38762  
#&gt;  Median : 6.850   Median :53.05   Median :114.50   Median : 54277  
#&gt;  Mean   : 7.321   Mean   :52.64   Mean   :105.65   Mean   : 61749  
#&gt;  3rd Qu.:10.625   3rd Qu.:58.62   3rd Qu.:139.25   3rd Qu.: 79914  
#&gt;  Max.   :15.100   Max.   :67.30   Max.   :188.00   Max.   :262134  
#&gt; [1] "Mean relative difference: 3.352972e-06"
#&gt;           coords.x1     coords.x2
#&gt; [1,] -103.869185754 44.4616921053
#&gt;        coords.x1 coords.x2
#&gt; [1,] -103.869667 44.461676</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>meuse</span>)
<span class='fu'>coordinates</span>(<span class='no'>meuse</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"x"</span>, <span class='st'>"y"</span>)
<span class='fu'>proj4string</span>(<span class='no'>meuse</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:28992"</span>)
<span class='co'># see http://trac.osgeo.org/gdal/ticket/1987</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>meuse</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;      min    max
#&gt; x 178605 181390
#&gt; y 329714 333611
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=sterea +lat_0=52.1561605555556 +lon_0=5.38763888888889
#&gt; +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +no_defs]
#&gt; Number of points: 155
#&gt; Data attributes:
#&gt;     cadmium           copper            lead            zinc       
#&gt;  Min.   : 0.200   Min.   : 14.00   Min.   : 37.0   Min.   : 113.0  
#&gt;  1st Qu.: 0.800   1st Qu.: 23.00   1st Qu.: 72.5   1st Qu.: 198.0  
#&gt;  Median : 2.100   Median : 31.00   Median :123.0   Median : 326.0  
#&gt;  Mean   : 3.246   Mean   : 40.32   Mean   :153.4   Mean   : 469.7  
#&gt;  3rd Qu.: 3.850   3rd Qu.: 49.50   3rd Qu.:207.0   3rd Qu.: 674.5  
#&gt;  Max.   :18.100   Max.   :128.00   Max.   :654.0   Max.   :1839.0  
#&gt;                                                                    
#&gt;       elev             dist               om         ffreq  soil   lime   
#&gt;  Min.   : 5.180   Min.   :0.00000   Min.   : 1.000   1:84   1:97   0:111  
#&gt;  1st Qu.: 7.546   1st Qu.:0.07569   1st Qu.: 5.300   2:48   2:46   1: 44  
#&gt;  Median : 8.180   Median :0.21184   Median : 6.900   3:23   3:12          
#&gt;  Mean   : 8.165   Mean   :0.24002   Mean   : 7.478                        
#&gt;  3rd Qu.: 8.955   3rd Qu.:0.36407   3rd Qu.: 9.000                        
#&gt;  Max.   :10.520   Max.   :0.88039   Max.   :17.000                        
#&gt;                                     NA's   :2                             
#&gt;     landuse       dist.m      
#&gt;  W      :50   Min.   :  10.0  
#&gt;  Ah     :39   1st Qu.:  80.0  
#&gt;  Am     :22   Median : 270.0  
#&gt;  Fw     :10   Mean   : 290.3  
#&gt;  Ab     : 8   3rd Qu.: 450.0  
#&gt;  (Other):25   Max.   :1000.0  
#&gt;  NA's   : 1                   </div><div class='input'><span class='no'>meuse.utm</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>meuse</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=utm +zone=32 +datum=WGS84"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>meuse.utm</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;         min       max
#&gt; x  269909.9  272832.1
#&gt; y 5650085.3 5653888.9
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=utm +zone=32 +datum=WGS84 +units=m +no_defs]
#&gt; Number of points: 155
#&gt; Data attributes:
#&gt;     cadmium           copper            lead            zinc       
#&gt;  Min.   : 0.200   Min.   : 14.00   Min.   : 37.0   Min.   : 113.0  
#&gt;  1st Qu.: 0.800   1st Qu.: 23.00   1st Qu.: 72.5   1st Qu.: 198.0  
#&gt;  Median : 2.100   Median : 31.00   Median :123.0   Median : 326.0  
#&gt;  Mean   : 3.246   Mean   : 40.32   Mean   :153.4   Mean   : 469.7  
#&gt;  3rd Qu.: 3.850   3rd Qu.: 49.50   3rd Qu.:207.0   3rd Qu.: 674.5  
#&gt;  Max.   :18.100   Max.   :128.00   Max.   :654.0   Max.   :1839.0  
#&gt;                                                                    
#&gt;       elev             dist               om         ffreq  soil   lime   
#&gt;  Min.   : 5.180   Min.   :0.00000   Min.   : 1.000   1:84   1:97   0:111  
#&gt;  1st Qu.: 7.546   1st Qu.:0.07569   1st Qu.: 5.300   2:48   2:46   1: 44  
#&gt;  Median : 8.180   Median :0.21184   Median : 6.900   3:23   3:12          
#&gt;  Mean   : 8.165   Mean   :0.24002   Mean   : 7.478                        
#&gt;  3rd Qu.: 8.955   3rd Qu.:0.36407   3rd Qu.: 9.000                        
#&gt;  Max.   :10.520   Max.   :0.88039   Max.   :17.000                        
#&gt;                                     NA's   :2                             
#&gt;     landuse       dist.m      
#&gt;  W      :50   Min.   :  10.0  
#&gt;  Ah     :39   1st Qu.:  80.0  
#&gt;  Am     :22   Median : 270.0  
#&gt;  Fw     :10   Mean   : 290.3  
#&gt;  Ab     : 8   3rd Qu.: 450.0  
#&gt;  (Other):25   Max.   :1000.0  
#&gt;  NA's   : 1                   </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='fu'>coordinates</span>(<span class='no'>meuse</span>), <span class='fu'>coordinates</span>(<span class='no'>meuse.utm</span>))</div><div class='output co'>#&gt;          x      y        x       y
#&gt; 1   181072 333611 272531.7 5653889
#&gt; 2   181025 333558 272482.1 5653838
#&gt; 3   181165 333537 272621.0 5653810
#&gt; 4   181298 333484 272751.2 5653751
#&gt; 5   181307 333330 272752.7 5653597
#&gt; 6   181390 333260 272832.1 5653523
#&gt; 7   181165 333370 272612.8 5653644
#&gt; 8   181027 333363 272474.6 5653643
#&gt; 9   181060 333231 272501.0 5653510
#&gt; 10  181232 333168 272669.8 5653438
#&gt; 11  181191 333115 272626.2 5653388
#&gt; 12  181032 333031 272463.3 5653311
#&gt; 13  180874 333339 272320.5 5653627
#&gt; 14  180969 333252 272411.2 5653535
#&gt; 15  181011 333161 272448.7 5653442
#&gt; 16  180830 333246 272272.0 5653536
#&gt; 17  180763 333104 272198.1 5653398
#&gt; 18  180694 332972 272122.7 5653269
#&gt; 19  180625 332847 272047.6 5653148
#&gt; 20  180555 332707 271970.8 5653011
#&gt; 21  180642 332708 272057.8 5653008
#&gt; 22  180704 332717 272120.2 5653014
#&gt; 23  180704 332664 272117.6 5652961
#&gt; 24  181153 332925 272578.9 5653200
#&gt; 25  181147 332823 272567.9 5653098
#&gt; 26  181167 332778 272585.7 5653052
#&gt; 27  181008 332777 272426.8 5653059
#&gt; 28  180973 332687 272387.4 5652971
#&gt; 29  180916 332753 272333.7 5653039
#&gt; 30  181352 332946 272778.8 5653211
#&gt; 31  181133 332570 272541.6 5652846
#&gt; 32  180878 332489 272282.8 5652777
#&gt; 33  180829 332450 272232.0 5652741
#&gt; 34  180954 332399 272354.3 5652684
#&gt; 35  180956 332318 272352.4 5652603
#&gt; 37  180710 332330 272107.2 5652627
#&gt; 38  180632 332445 272034.9 5652746
#&gt; 39  180530 332538 271937.6 5652843
#&gt; 40  180478 332578 271887.6 5652886
#&gt; 41  180383 332476 271787.7 5652789
#&gt; 42  180494 332330 271891.4 5652637
#&gt; 43  180561 332193 271951.6 5652497
#&gt; 44  180451 332175 271840.9 5652485
#&gt; 45  180410 332031 271792.8 5652343
#&gt; 46  180355 332299 271751.0 5652613
#&gt; 47  180292 332157 271681.1 5652475
#&gt; 48  180283 332014 271665.1 5652332
#&gt; 49  180282 331861 271656.6 5652179
#&gt; 50  180270 331707 271637.1 5652026
#&gt; 51  180199 331591 271560.5 5651914
#&gt; 52  180135 331552 271494.6 5651878
#&gt; 53  180237 332351 271635.7 5652671
#&gt; 54  180103 332297 271499.2 5652624
#&gt; 55  179973 332255 271367.2 5652588
#&gt; 56  179826 332217 271218.5 5652557
#&gt; 57  179687 332161 271076.9 5652508
#&gt; 58  179792 332035 271175.6 5652377
#&gt; 59  179902 332113 271289.4 5652450
#&gt; 60  180100 332213 271492.1 5652540
#&gt; 61  179604 332059 270989.0 5652410
#&gt; 62  179526 331936 270905.0 5652291
#&gt; 63  179495 331770 270865.9 5652127
#&gt; 64  179489 331633 270853.2 5651990
#&gt; 65  179414 331494 270771.5 5651855
#&gt; 66  179334 331366 270685.3 5651731
#&gt; 67  179255 331264 270601.4 5651633
#&gt; 69  179470 331125 270809.3 5651484
#&gt; 75  179692 330933 271021.7 5651281
#&gt; 76  179852 330801 271175.1 5651141
#&gt; 79  179140 330955 270471.3 5651330
#&gt; 80  179128 330867 270455.0 5651243
#&gt; 81  179065 330864 270391.9 5651243
#&gt; 82  179007 330727 270327.3 5651109
#&gt; 83  179110 330758 270431.7 5651135
#&gt; 84  179032 330645 270348.2 5651026
#&gt; 85  179095 330636 270410.7 5651014
#&gt; 86  179058 330510 270367.6 5650890
#&gt; 87  178810 330666 270127.5 5651058
#&gt; 88  178912 330779 270234.9 5651166
#&gt; 89  178981 330924 270310.9 5651307
#&gt; 90  179076 331005 270409.8 5651383
#&gt; 123 180151 330353 271451.8 5650679
#&gt; 160 179211 331175 270553.0 5651547
#&gt; 163 181118 333214 272558.2 5653490
#&gt; 70  179474 331304 270822.1 5651662
#&gt; 71  179559 331423 270912.9 5651777
#&gt; 91  179022 330873 270349.4 5651254
#&gt; 92  178953 330742 270274.1 5651127
#&gt; 93  178875 330516 270185.0 5650905
#&gt; 94  178803 330349 270104.9 5650741
#&gt; 95  179029 330394 270332.9 5650775
#&gt; 96  178605 330406 269909.9 5650808
#&gt; 97  178701 330557 270013.2 5650954
#&gt; 98  179547 330245 270843.1 5650601
#&gt; 99  179301 330179 270594.1 5650547
#&gt; 100 179405 330567 270717.0 5650930
#&gt; 101 179462 330766 270783.7 5651126
#&gt; 102 179293 330797 270616.4 5651165
#&gt; 103 179180 330710 270499.3 5651083
#&gt; 104 179206 330398 270509.9 5650771
#&gt; 105 179618 330458 270924.5 5650810
#&gt; 106 179782 330540 271092.3 5650884
#&gt; 108 179980 330773 271301.6 5651107
#&gt; 109 180067 331185 271408.7 5651515
#&gt; 110 180162 331387 271513.5 5651712
#&gt; 111 180451 331473 271806.4 5651783
#&gt; 112 180328 331158 271668.1 5651475
#&gt; 113 180276 330963 271606.6 5651283
#&gt; 114 180114 330803 271436.9 5651131
#&gt; 115 179881 330912 271209.5 5651251
#&gt; 116 179774 330921 271103.0 5651265
#&gt; 117 179657 331150 270997.4 5651500
#&gt; 118 179731 331245 271076.0 5651591
#&gt; 119 179717 331441 271071.6 5651787
#&gt; 120 179446 331422 270799.9 5651782
#&gt; 121 179524 331565 270884.8 5651921
#&gt; 122 179644 331730 271012.8 5652080
#&gt; 124 180321 330366 271622.3 5650684
#&gt; 125 180162 331837 271535.6 5652161
#&gt; 126 180029 331720 271397.0 5652051
#&gt; 127 179797 331919 271174.9 5652261
#&gt; 128 179642 331955 271021.9 5652305
#&gt; 129 179849 332142 271237.8 5652481
#&gt; 130 180265 332297 271661.0 5652616
#&gt; 131 180107 332101 271493.6 5652428
#&gt; 132 180462 331947 271840.7 5652256
#&gt; 133 180478 331822 271850.5 5652131
#&gt; 134 180347 331700 271713.7 5652015
#&gt; 135 180862 333116 272297.6 5653405
#&gt; 136 180700 332882 272124.3 5653179
#&gt; 161 180201 331160 271541.3 5651483
#&gt; 162 180173 331923 271550.8 5652247
#&gt; 137 180923 332874 272346.7 5653160
#&gt; 138 180467 331694 271833.2 5652003
#&gt; 140 179917 331325 271265.7 5651662
#&gt; 141 179822 331242 271166.7 5651583
#&gt; 142 179991 331069 271327.1 5651402
#&gt; 143 179120 330578 270432.8 5650955
#&gt; 144 179034 330561 270346.1 5650942
#&gt; 145 179085 330433 270390.8 5650811
#&gt; 146 179236 330046 270522.7 5650417
#&gt; 147 179456 330072 270743.7 5650433
#&gt; 148 179550 329940 270831.1 5650296
#&gt; 149 179445 329807 270719.7 5650168
#&gt; 150 179337 329870 270614.9 5650237
#&gt; 151 179245 329714 270515.4 5650085
#&gt; 152 179024 329733 270295.5 5650115
#&gt; 153 178786 329822 270062.1 5650216
#&gt; 154 179135 329890 270414.1 5650266
#&gt; 155 179030 330082 270318.6 5650463
#&gt; 156 179184 330182 270477.4 5650556
#&gt; 157 179085 330292 270383.9 5650671
#&gt; 158 178875 330311 270175.0 5650700
#&gt; 159 179466 330381 270768.9 5650741
#&gt; 164 180627 330190 271919.3 5650493</div><div class='input'><span class='no'>kiritimati_primary_roads</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='readOGR.html'>readOGR</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"vectors"</span>,
 <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"rgdal"</span>)[<span class='fl'>1</span>], <span class='st'>"kiritimati_primary_roads"</span>)</div><div class='output co'>#&gt; OGR data source with driver: ESRI Shapefile 
#&gt; Source: "/tmp/RtmpEreEhT/temp_libpath193a751bafe22a/rgdal/vectors", layer: "kiritimati_primary_roads"
#&gt; with 35 features
#&gt; It has 1 fields</div><div class='input'><span class='no'>kiritimati_primary_roads_ll</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>kiritimati_primary_roads</span>,
 <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +datum=WGS84"</span>))
<span class='no'>opar</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='kw'>mfrow</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>))
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>kiritimati_primary_roads</span>, <span class='kw'>axes</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>kiritimati_primary_roads_ll</span>, <span class='kw'>axes</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>las</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='img'><img src='spTransform-methods-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='no'>opar</span>)
<span class='no'>opar</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='kw'>mfrow</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>))
<span class='no'>scot_BNG</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='readOGR.html'>readOGR</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"vectors"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"rgdal"</span>)[<span class='fl'>1</span>],
   <span class='st'>"scot_BNG"</span>)</div><div class='output co'>#&gt; OGR data source with driver: ESRI Shapefile 
#&gt; Source: "/tmp/RtmpEreEhT/temp_libpath193a751bafe22a/rgdal/vectors", layer: "scot_BNG"
#&gt; with 56 features
#&gt; It has 13 fields</div><div class='input'><span class='no'>scot_LL</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>scot_BNG</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +datum=WGS84"</span>))
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>scot_LL</span>, <span class='kw'>axes</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>grdtxt_LL</span> <span class='kw'>&lt;-</span> <span class='fu'>gridat</span>(<span class='no'>scot_LL</span>)
<span class='no'>grd_LL</span> <span class='kw'>&lt;-</span> <span class='fu'>gridlines</span>(<span class='no'>scot_LL</span>, <span class='kw'>ndiscr</span><span class='kw'>=</span><span class='fl'>100</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>grd_LL</span>)</div><div class='output co'>#&gt; Object of class SpatialLines
#&gt; Coordinates:
#&gt;         min        max
#&gt; x -8.622158 -0.7550709
#&gt; y 54.626633 60.8432318
#&gt; Is projected: FALSE 
#&gt; proj4string : [+proj=longlat +datum=WGS84 +no_defs]</div><div class='input'><span class='no'>target</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'>proj4string</span>(<span class='no'>scot_BNG</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'><span class='no'>grd_BNG</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>grd_LL</span>, <span class='no'>target</span>)
<span class='no'>grdtxt_BNG</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>grdtxt_LL</span>, <span class='no'>target</span>)
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>scot_BNG</span>, <span class='kw'>axes</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>las</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>grd_BNG</span>, <span class='kw'>add</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/text.html'>text</a></span>(<span class='fu'>coordinates</span>(<span class='no'>grdtxt_BNG</span>),
   <span class='kw'>labels</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/parse.html'>parse</a></span>(<span class='kw'>text</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span>(<span class='no'>grdtxt_BNG</span>$<span class='no'>labels</span>)))</div><div class='img'><img src='spTransform-methods-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='no'>opar</span>)
<span class='no'>crds</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>9.05</span>, <span class='fl'>48.52</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='no'>spPoint</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialPoints</span>(<span class='kw'>coords</span><span class='kw'>=</span><span class='no'>crds</span>,
 <span class='kw'>proj4string</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere +no_defs"</span>))
<span class='no'>a</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>spPoint</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=ob_tran +o_proj=longlat"</span>,
 <span class='st'>"+o_lon_p=-162 +o_lat_p=39.25 +lon_0=180 +ellps=sphere +no_defs"</span>)),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'><span class='no'>a</span></div><div class='output co'>#&gt; SpatialPoints:
#&gt;      coords.x1 coords.x2
#&gt; [1,] -5.917698  -1.87195
#&gt; Coordinate Reference System (CRS) arguments: +proj=ob_tran
#&gt; +o_proj=longlat +o_lon_p=-162 +o_lat_p=39.25 +lon_0=180 +ellps=sphere
#&gt; +no_defs </div><div class='input'><span class='co'>#should be (-5.917698, -1.87195)</span>
<span class='fu'>spTransform</span>(<span class='no'>a</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere +no_defs"</span>),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt; SpatialPoints:
#&gt;      coords.x1 coords.x2
#&gt; [1,]      9.05     48.52
#&gt; Coordinate Reference System (CRS) arguments: +proj=longlat
#&gt; +ellps=sphere +no_defs </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>spTransform</span>(<span class='no'>a</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=tmerc +lat_0=0 +lon_0=9 +k=1"</span>,
<span class='st'>"+x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs"</span>)),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt; Error in spTransform(a, CRS(paste("+proj=tmerc +lat_0=0 +lon_0=9 +k=1",  : 
#&gt;   Use ob_tran to or from unprojected objects only</div><div class='input'><span class='fu'>spTransform</span>(<span class='no'>spPoint</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=tmerc +lat_0=0 +lon_0=9 +k=1"</span>,
<span class='st'>"+x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs"</span>)))</div><div class='output co'>#&gt; SpatialPoints:
#&gt;      coords.x1 coords.x2
#&gt; [1,]   3503693   5375702
#&gt; Coordinate Reference System (CRS) arguments: +proj=tmerc +lat_0=0
#&gt; +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs </div><div class='input'><span class='fu'>spTransform</span>(<span class='fu'>spTransform</span>(<span class='no'>a</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere +no_defs"</span>),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>), <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=tmerc +lat_0=0 +lon_0=9 +k=1"</span>,
<span class='st'>"+x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs"</span>)))</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt; SpatialPoints:
#&gt;      coords.x1 coords.x2
#&gt; [1,]   3503693   5375702
#&gt; Coordinate Reference System (CRS) arguments: +proj=tmerc +lat_0=0
#&gt; +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +units=m +no_defs </div><div class='input'><span class='no'>crds1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>7</span>, <span class='fl'>51</span>, <span class='fl'>8</span>, <span class='fl'>52</span>, <span class='fl'>9</span>, <span class='fl'>52</span>, <span class='fl'>10</span>, <span class='fl'>51</span>, <span class='fl'>7</span>, <span class='fl'>51</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>,
<span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>dimnames</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lon"</span>, <span class='st'>"lat"</span>)));
<span class='no'>crds2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>8</span>, <span class='fl'>48</span>, <span class='fl'>9</span>, <span class='fl'>49</span>, <span class='fl'>11</span>, <span class='fl'>49</span>, <span class='fl'>9</span>, <span class='fl'>48</span>, <span class='fl'>8</span>, <span class='fl'>48</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>,
<span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>dimnames</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lon"</span>, <span class='st'>"lat"</span>)));
<span class='no'>crds3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6</span>, <span class='fl'>47</span>, <span class='fl'>6</span>, <span class='fl'>55</span>, <span class='fl'>15</span>, <span class='fl'>55</span>, <span class='fl'>15</span>, <span class='fl'>47</span>, <span class='fl'>6</span>, <span class='fl'>47</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>,
<span class='kw'>byrow</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>dimnames</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lon"</span>, <span class='st'>"lat"</span>)));
<span class='no'>spLines</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialLines</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>Lines</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>Line</span>(<span class='no'>crds1</span>), <span class='fu'>Line</span>(<span class='no'>crds2</span>),
<span class='fu'>Line</span>(<span class='no'>crds3</span>)), <span class='kw'>ID</span><span class='kw'>=</span><span class='st'>"a"</span>)));
<span class='fu'>slot</span>(<span class='no'>spLines</span>, <span class='st'>"proj4string"</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere +no_defs"</span>);
<span class='fu'>bbox</span>(<span class='no'>spLines</span>);</div><div class='output co'>#&gt;   min max
#&gt; x   6  15
#&gt; y  47  55</div><div class='input'><span class='no'>spLines_tr</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>spLines</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='st'>"+proj=ob_tran +o_proj=longlat"</span>,
<span class='st'>" +o_lon_p=-162 +o_lat_p=39.25 +lon_0=180 +ellps=sphere +no_defs"</span>)),
<span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>);</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'><span class='fu'>bbox</span>(<span class='no'>spLines_tr</span>)</div><div class='output co'>#&gt;         min       max
#&gt; x -8.163685 -1.725025
#&gt; y -3.708442  4.807871</div><div class='input'><span class='fu'>bbox</span>(<span class='fu'>spTransform</span>(<span class='no'>spLines_tr</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere"</span>),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt;   min max
#&gt; x   6  15
#&gt; y  47  55</div><div class='input'><span class='no'>spPolygons</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialPolygons</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>Polygons</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'>Polygon</span>(<span class='no'>crds1</span>),
<span class='fu'>Polygon</span>(<span class='no'>crds2</span>), <span class='fu'>Polygon</span>(<span class='no'>crds3</span>)), <span class='kw'>ID</span><span class='kw'>=</span><span class='st'>"a"</span>)));
<span class='fu'>slot</span>(<span class='no'>spPolygons</span>, <span class='st'>"proj4string"</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere +no_defs"</span>);
<span class='fu'>bbox</span>(<span class='no'>spPolygons</span>);</div><div class='output co'>#&gt;   min max
#&gt; x   6  15
#&gt; y  47  55</div><div class='input'><span class='no'>spPolygons_tr</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>spPolygons</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='st'>"+proj=ob_tran"</span>,
<span class='st'>" +o_proj=longlat +o_lon_p=-162 +o_lat_p=39.25 +lon_0=180 +ellps=sphere +no_defs"</span>)),
<span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>);</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'><span class='fu'>bbox</span>(<span class='no'>spPolygons_tr</span>)</div><div class='output co'>#&gt;         min       max
#&gt; x -8.163685 -1.725025
#&gt; y -3.708442  4.807871</div><div class='input'><span class='fu'>bbox</span>(<span class='fu'>spTransform</span>(<span class='no'>spPolygons_tr</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +ellps=sphere"</span>),
 <span class='kw'>use_ob_tran</span><span class='kw'>=</span><span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt;   min max
#&gt; x   6  15
#&gt; y  47  55</div><div class='input'><span class='co'>#added after posting by Martin Ivanov</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>nor2k</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>nor2k</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;            min     max
#&gt; East    404700  547250
#&gt; North  6804200 6910050
#&gt; Height    2001    2469
#&gt; Is projected: TRUE 
#&gt; proj4string :
#&gt; [+proj=utm +zone=32 +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0]
#&gt; Number of points: 300
#&gt; Data attributes:
#&gt;       Nr.             Navn             Kommune         
#&gt;  Min.   :  1.00   Length:300         Length:300        
#&gt;  1st Qu.: 75.75   Class :character   Class :character  
#&gt;  Median :150.50   Mode  :character   Mode  :character  
#&gt;  Mean   :150.50                                        
#&gt;  3rd Qu.:225.25                                        
#&gt;  Max.   :300.00                                        </div><div class='input'><span class='no'>nor2kNGO</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>nor2k</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4273"</span>))</div><div class='output co'>#&gt; <span class='warning'>Warning: NULL source CRS comment, falling back to PROJ string</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>nor2kNGO</span>)</div><div class='output co'>#&gt; Object of class SpatialPointsDataFrame
#&gt; Coordinates:
#&gt;                min         max
#&gt; East      7.199049    9.905515
#&gt; North    61.370713   62.321303
#&gt; Height 2001.000000 2469.000000
#&gt; Is projected: FALSE 
#&gt; proj4string :
#&gt; [+proj=longlat +a=6377492.018 +rf=299.1528128 +no_defs]
#&gt; Number of points: 300
#&gt; Data attributes:
#&gt;       Nr.             Navn             Kommune         
#&gt;  Min.   :  1.00   Length:300         Length:300        
#&gt;  1st Qu.: 75.75   Class :character   Class :character  
#&gt;  Median :150.50   Mode  :character   Mode  :character  
#&gt;  Mean   :150.50                                        
#&gt;  3rd Qu.:225.25                                        
#&gt;  Max.   :300.00                                        </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>nor2k</span>)[,<span class='fl'>3</span>], <span class='fu'>coordinates</span>(<span class='no'>nor2kNGO</span>)[,<span class='fl'>3</span>])</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'>#added after posting by Don MacQueen </span>
<span class='no'>crds</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>121.524764291826</span>, -<span class='fl'>121.523480804667</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>37.6600366036405</span>, <span class='fl'>37.6543604613483</span>))
<span class='no'>ref</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1703671.30566227</span>, <span class='fl'>1704020.20113366</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>424014.398045834</span>, <span class='fl'>421943.708664294</span>))
<span class='no'>crs.step1.cf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=lcc +lat_1=38.43333333333333"</span>,
 <span class='st'>"+lat_2=37.06666666666667 +lat_0=36.5 +lon_0=-120.5"</span>,
 <span class='st'>"+x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +units=us-ft +no_defs"</span>,
 <span class='st'>"+towgs84=-0.991,1.9072,0.5129,0.025789908,0.0096501,0.0116599,0.0"</span>))
<span class='no'>locs.step1.cf</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='fu'>SpatialPoints</span>(<span class='no'>crds</span>,
 <span class='kw'>proj4string</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+proj=longlat +datum=WGS84"</span>)), <span class='no'>crs.step1.cf</span>)
<span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span>(<span class='fu'>proj4string</span>(<span class='no'>locs.step1.cf</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=lcc"</span>,
<span class='st'>"+lat_1=38.43333333333333 +lat_2=37.06666666666667 +lat_0=36.5"</span>,
<span class='st'>"+lon_0=-120.5 +x_0=2000000.0 +y_0=500000.0 +ellps=GRS80 +units=us-ft"</span>,
<span class='st'>"+no_defs +nadgrids=@null"</span>)))
<span class='no'>locs.step2.cfb</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>locs.step1.cf</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:26743"</span>))
<span class='fu'>coordinates</span>(<span class='no'>locs.step2.cfb</span>) - <span class='no'>ref</span></div><div class='output co'>#&gt;      coords.x1 coords.x2
#&gt; [1,] -9.028036  7.115555
#&gt; [2,] -9.019601  7.103332</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/unname.html'>unname</a></span>(<span class='fu'>coordinates</span>(<span class='no'>locs.step2.cfb</span>)), <span class='no'>ref</span>)</div><div class='output co'>#&gt; [1] "Mean relative difference: 7.585616e-06"</div><div class='input'><span class='co'># Test for UTM == TMERC (&lt;= 4.9.2) or UTM == ETMERC (&gt; 4.9.2)</span>
<span class='no'>nhh</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialPointsDataFrame</span>(<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5.304234</span>, <span class='fl'>60.422311</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>),
 <span class='kw'>proj4string</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4326"</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>office</span><span class='kw'>=</span><span class='st'>"RSB"</span>))
<span class='no'>nhh_utm_32N_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>nhh</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:3044"</span>))
<span class='no'>nhh_tmerc_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>nhh</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=tmerc +k=0.9996"</span>,
 <span class='st'>"+lon_0=9 +x_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span>)))
<span class='no'>nhh_etmerc_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>nhh</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=etmerc +k=0.9996"</span>,
 <span class='st'>"+lon_0=9 +x_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span>)))
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>nhh_utm_32N_P4</span>), <span class='fu'>coordinates</span>(<span class='no'>nhh_tmerc_P4</span>),
 <span class='kw'>tolerance</span><span class='kw'>=</span><span class='fl'>1e-9</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'># UTM == TMERC: PROJ4 &lt;=4.9.2</span>
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>nhh_utm_32N_P4</span>), <span class='fu'>coordinates</span>(<span class='no'>nhh_etmerc_P4</span>),
 <span class='kw'>tolerance</span><span class='kw'>=</span><span class='fl'>1e-9</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'># UTM == ETMERC: PROJ4 &gt; 4.9.2</span>
<span class='no'>unis</span> <span class='kw'>&lt;-</span> <span class='fu'>SpatialPointsDataFrame</span>(<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>15.653453</span>, <span class='fl'>78.222504</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>),
 <span class='kw'>proj4string</span><span class='kw'>=</span><span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:4326"</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>office</span><span class='kw'>=</span><span class='st'>"UNIS"</span>))
<span class='no'>unis_utm_33N_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>unis</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='st'>"+init=epsg:3045"</span>))
<span class='no'>unis_tmerc_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>unis</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=tmerc +k=0.9996 +lon_0=15"</span>,
 <span class='st'>"+x_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span>)))
<span class='no'>unis_etmerc_P4</span> <span class='kw'>&lt;-</span> <span class='fu'>spTransform</span>(<span class='no'>unis</span>, <span class='fu'><a href='CRS-class.html'>CRS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='st'>"+proj=etmerc +k=0.9996"</span>,
 <span class='st'>"+lon_0=15 +x_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"</span>)))
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>unis_utm_33N_P4</span>), <span class='fu'>coordinates</span>(<span class='no'>unis_tmerc_P4</span>),
 <span class='kw'>tolerance</span><span class='kw'>=</span><span class='fl'>1e-9</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='co'># UTM == TMERC: PROJ4 &lt;=4.9.2</span>
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='fu'>coordinates</span>(<span class='no'>unis_utm_33N_P4</span>), <span class='fu'>coordinates</span>(<span class='no'>unis_etmerc_P4</span>),
 <span class='kw'>tolerance</span><span class='kw'>=</span><span class='fl'>1e-9</span>, <span class='kw'>scale</span><span class='kw'>=</span><span class='fl'>1</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'># UTM == ETMERC: PROJ4 &gt; 4.9.2

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Roger Bivand, Tim Keitt, Barry Rowlingson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


